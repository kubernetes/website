From 78bffcd07efbcd58056ea17b317092f6e70f36db Mon Sep 17 00:00:00 2001
From: aud1ence <daruma19051890@gmail.com>
Date: Sun, 30 Mar 2025 02:10:21 +0700
Subject: [PATCH 1/2] create the Assign memory resources to Containers and Pods
 page

---
 .../tasks/configure-pod-container/_index.md   |   6 +
 .../assign-memory-resource.md                 | 318 ++++++++++++++++++
 .../task-tutorial-prereqs.md                  |   3 +
 .../pods/resource/cpu-request-limit-2.yaml    |  17 +
 .../pods/resource/cpu-request-limit.yaml      |  17 +
 .../resource/extended-resource-pod-2.yaml     |  13 +
 .../pods/resource/extended-resource-pod.yaml  |  13 +
 .../pods/resource/memory-request-limit-2.yaml |  16 +
 .../pods/resource/memory-request-limit-3.yaml |  16 +
 .../pods/resource/memory-request-limit.yaml   |  16 +
 .../resource/pod-level-cpu-request-limit.yaml |  17 +
 .../pod-level-memory-request-limit.yaml       |  16 +
 .../pods/resource/pod-level-resources.yaml    |  28 ++
 13 files changed, 496 insertions(+)
 create mode 100644 content/vi/docs/tasks/configure-pod-container/_index.md
 create mode 100644 content/vi/docs/tasks/configure-pod-container/assign-memory-resource.md
 create mode 100644 content/vi/docs/tasks/configure-pod-container/task-tutorial-prereqs.md
 create mode 100644 content/vi/examples/pods/resource/cpu-request-limit-2.yaml
 create mode 100644 content/vi/examples/pods/resource/cpu-request-limit.yaml
 create mode 100644 content/vi/examples/pods/resource/extended-resource-pod-2.yaml
 create mode 100644 content/vi/examples/pods/resource/extended-resource-pod.yaml
 create mode 100644 content/vi/examples/pods/resource/memory-request-limit-2.yaml
 create mode 100644 content/vi/examples/pods/resource/memory-request-limit-3.yaml
 create mode 100644 content/vi/examples/pods/resource/memory-request-limit.yaml
 create mode 100644 content/vi/examples/pods/resource/pod-level-cpu-request-limit.yaml
 create mode 100644 content/vi/examples/pods/resource/pod-level-memory-request-limit.yaml
 create mode 100644 content/vi/examples/pods/resource/pod-level-resources.yaml

diff --git a/content/vi/docs/tasks/configure-pod-container/_index.md b/content/vi/docs/tasks/configure-pod-container/_index.md
new file mode 100644
index 0000000000..957c9bbb93
--- /dev/null
+++ b/content/vi/docs/tasks/configure-pod-container/_index.md
@@ -0,0 +1,6 @@
+---
+title: "Cấu hình Pods và Containers"
+description: Thực hiện các tác vụ cấu hình thông dụng cho Pods và containers.
+weight: 30
+---
+
diff --git a/content/vi/docs/tasks/configure-pod-container/assign-memory-resource.md b/content/vi/docs/tasks/configure-pod-container/assign-memory-resource.md
new file mode 100644
index 0000000000..5bd5c05dd5
--- /dev/null
+++ b/content/vi/docs/tasks/configure-pod-container/assign-memory-resource.md
@@ -0,0 +1,318 @@
+---
+title: Cấp phát tài nguyên bộ nhớ cho Containers và Pods
+content_type: task
+weight: 10
+---
+
+<!-- overview -->
+
+Trang này hướng dẫn cách cấp phát bộ nhớ _request_ (tối thiểu) và bộ nhớ _limit_ (tối đa) cho một Container. Một Container được đảm bảo có đủ bộ nhớ như nó yêu cầu, nhưng không được phép sử dụng nhiều bộ nhớ hơn giới hạn của nó.
+
+## {{% heading "prerequisites" %}}
+
+{{< include "task-tutorial-prereqs.md" >}} {{< version-check >}}
+
+Mỗi Node trong Cluster của bạn phải có ít nhất 300 MiB bộ nhớ.
+
+Một số bước trong trang này yêu cầu bạn chạy dịch vụ [metrics-server](https://github.com/kubernetes-sigs/metrics-server) trong Cluster. Nếu bạn đã có metrics-server đang chạy, bạn có thể bỏ qua các bước này.
+
+Nếu bạn đang chạy Minikube, hãy chạy lệnh sau để bật metrics-server:
+
+```shell
+minikube addons enable metrics-server
+```
+
+Để kiểm tra xem metrics-server có đang chạy hay không, hoặc hệ thống giám sát tài nguyên khác (`metrics.k8s.io`), hãy chạy lệnh sau:
+
+```shell
+kubectl get apiservices
+```
+
+Nếu hệ thống giám sát tài nguyên có sẵn, kết quả sẽ chứa `metrics.k8s.io`.
+
+```shell
+NAME
+v1beta1.metrics.k8s.io
+```
+
+<!-- steps -->
+
+## Tạo namespace
+
+Tạo một namespace để các tài nguyên mà bạn tạo trong bài này được tách biệt khỏi phần còn lại của cluster.
+
+```shell
+kubectl create namespace mem-example
+```
+
+## Cài đặt bộ nhớ tối thiểu và bộ nhớ tối đa
+
+Để cài đặt bộ nhớ tối thiểu cho một Container, bạn cần thêm trường `resources:requests` vào phần khai báo trong tệp cấu hình Container. Với bộ nhớ tối đa, bạn hãy thêm `resources:limits`.
+
+Trong phần thực hành này, bạn sẽ tạo một Pod có một Container. Container này có bộ nhớ tối thiểu là 100 MiB và bộ nhớ tối đa là 200 MiB. Đây là file cấu hình cho Pod:
+
+{{% code_sample file="pods/resource/memory-request-limit.yaml" %}}
+
+Phần `args` trong tệp cấu hình cung cấp các tham số cho Container khi nó khởi tạo.
+Các tham số `"--vm-bytes", "150M"` yêu cầu Container cấp phát 150 MiB bộ nhớ.
+
+Tạo Pod:
+
+```shell
+kubectl apply -f https://k8s.io/examples/pods/resource/memory-request-limit.yaml --namespace=mem-example
+```
+
+Kiểm tra Pod đang chạy:
+
+```shell
+kubectl get pod memory-demo --namespace=mem-example
+```
+
+Xem thông tin chi tiết về Pod:
+
+```shell
+kubectl get pod memory-demo --output=yaml --namespace=mem-example
+```
+
+Kết quả cho thấy Container trong Pod có bộ nhớ tối thiểu là 100 MiB
+và bộ nhớ tối đa là 200 MiB.
+
+```yaml
+---
+resources:
+  requests:
+    memory: 100Mi
+  limits:
+    memory: 200Mi
+```
+
+Chạy lệnh `kubectl top` để xem các thông số của Pod:
+
+```shell
+kubectl top pod memory-demo --namespace=mem-example
+```
+
+Kết quả cho thấy Pod đang sử dụng khoảng 162,900,000 bytes bộ nhớ,
+tương đương khoảng 150MiB. Mức này cao hơn 100MiB tối thiểu nhưng vẫn nằm trong giới hạn 200MiB.
+
+```
+NAME                        CPU(cores)   MEMORY(bytes)
+memory-demo                 <something>  162856960
+```
+
+Xóa Pod:
+
+```shell
+kubectl delete pod memory-demo --namespace=mem-example
+```
+
+## Vượt quá bộ nhớ tối đa của Container
+
+Một Container có thể sử dụng nhiều bộ nhớ hơn mức tối thiểu nếu Node còn bộ nhớ trống. Tuy nhiên, Container không được phép sử dụng bộ nhớ hơn mức tối đa của nó. Nếu Container cấp phát nhiều bộ nhớ hơn mức tối đa, Container đó sẽ có khả năng bị dừng hoạt động. Nếu Container tiếp tục sử dụng bộ nhớ vượt quá giới hạn, nó sẽ được dừng hoàn toàn. Nếu Container đó được khởi động lại, kubelet sẽ khởi động lại nó, giống như với các lỗi runtime khác.
+
+Trong phần thực hành này, bạn sẽ tạo một Pod cố gắng cấp phát bộ nhớ nhiều hơn giới hạn của nó.
+Đây là tệp cấu hình cho một Pod có một Container với bộ nhớ tối thiểu là 50 MiB và bộ nhớ tối đa là 100 MiB:
+
+{{% code_sample file="pods/resource/memory-request-limit-2.yaml" %}}
+
+Trong phần `args` của tệp cấu hình, bạn có thể thấy Container sẽ cố gắng cấp phát 250 MiB bộ nhớ, vượt xa giới hạn 100 MiB.
+
+Tạo Pod:
+
+```shell
+kubectl apply -f https://k8s.io/examples/pods/resource/memory-request-limit-2.yaml --namespace=mem-example
+```
+
+Xem thông tin chi tiết Pod:
+
+```shell
+kubectl get pod memory-demo-2 --namespace=mem-example
+```
+
+Tại thời điểm này, Container có thể đang chạy hoặc đã được dừng hoạt động. Lặp lại lệnh trước đó cho đến khi Container dừng hoạt động:
+
+```shell
+NAME            READY     STATUS      RESTARTS   AGE
+memory-demo-2   0/1       OOMKilled   1          24s
+```
+
+Xem chi tiết hơn về trạng thái của Container:
+
+```shell
+kubectl get pod memory-demo-2 --output=yaml --namespace=mem-example
+```
+
+Kết quả cho thấy Container đã dừng hoạt động vì hết bộ nhớ (OOM - Out Of Memory):
+
+```yaml
+lastState:
+  terminated:
+    containerID: 65183c1877aaec2e8427bc95609cc52677a454b56fcb24340dbd22917c23b10f
+    exitCode: 137
+    finishedAt: 2017-06-20T20:52:19Z
+    reason: OOMKilled
+    startedAt: null
+```
+
+Container trong phần thực hành này có thể được khởi động lại, vì vậy kubelet sẽ khởi động lại nó. Lặp lại lệnh này vài lần để thấy Container liên tục bị dừng hoạt động và khởi động lại:
+
+```shell
+kubectl get pod memory-demo-2 --namespace=mem-example
+```
+
+Kết quả cho thấy Container bị dừng hoạt động, khởi động lại, bị dừng hoạt động lần nữa, khởi động lại lần nữa, và cứ tiếp tục như vậy:
+
+```
+kubectl get pod memory-demo-2 --namespace=mem-example
+NAME            READY     STATUS      RESTARTS   AGE
+memory-demo-2   0/1       OOMKilled   1          37s
+```
+
+```
+
+kubectl get pod memory-demo-2 --namespace=mem-example
+NAME            READY     STATUS    RESTARTS   AGE
+memory-demo-2   1/1       Running   2          40s
+```
+
+Xem thông tin chi tiết về lịch sử của Pod:
+
+```
+kubectl describe pod memory-demo-2 --namespace=mem-example
+```
+
+Kết quả cho thấy Container liên tục khởi động và thất bại:
+
+```
+... Normal  Created   Created container with id 66a3a20aa7980e61be4922780bf9d24d1a1d8b7395c09861225b0eba1b1f8511
+... Warning BackOff   Back-off restarting failed container
+```
+
+Xem thông tin chi tiết về các Node trong Cluster:
+
+```
+kubectl describe nodes
+```
+
+Kết quả cho thấy việc Container bị dừng hoạt động do tình trạng hết bộ nhớ:
+
+```
+Warning OOMKilling Memory cgroup out of memory: Kill process 4481 (stress) score 1994 or sacrifice child
+```
+
+Xóa Pod:
+
+```shell
+kubectl delete pod memory-demo-2 --namespace=mem-example
+```
+
+## Cài đặt bộ nhớ tối thiểu vượt quá khả năng của Nodes
+
+Bộ nhớ tối thiểu và tối đa được gắn với các Container, nhưng cũng có thể hiểu rằng một Pod có tổng bộ nhớ tối thiểu và tối đa riêng. Bộ nhớ tối thiểu cho Pod là tổng các bộ nhớ tối thiểu của tất cả các Container trong Pod. Tương tự, bộ nhớ tối đa cho Pod là tổng của các bộ nhớ tối đa của tất cả các Container trong Pod.
+
+Khi lập lịch (scheduling) Pod, Kubernetes dựa vào bộ nhớ tối thiểu. Một Pod chỉ được chạy trên Node nếu Node có đủ bộ nhớ trống để đáp ứng bộ nhớ tối thiểu của Pod.
+
+Trong phần thực hành này, bạn sẽ tạo một Pod có bộ nhớ tối thiểu lớn đến mức vượt quá khả năng của bất kỳ Node nào trong cluster của bạn. Đây là tệp cấu hình cho một Pod có một Container với 1000 GiB bộ nhớ tối thiểu, có khả năng vượt quá khả năng của bất kỳ Node nào trong cluster của bạn.
+
+{{% code_sample file="pods/resource/memory-request-limit-3.yaml" %}}
+
+Khởi tạo Pod:
+
+```shell
+kubectl apply -f https://k8s.io/examples/pods/resource/memory-request-limit-3.yaml --namespace=mem-example
+```
+
+Xem trạng thái của Pod:
+
+```shell
+kubectl get pod memory-demo-3 --namespace=mem-example
+```
+
+Kết quả cho thấy trạng thái của Pod là PENDING. Nghĩa là, Pod không được lập lịch để chạy trên bất kỳ Node nào, và nó sẽ tiếp tục ở trạng thái PENDING vô thời hạn:
+
+```
+kubectl get pod memory-demo-3 --namespace=mem-example
+NAME            READY     STATUS    RESTARTS   AGE
+memory-demo-3   0/1       Pending   0          25s
+```
+
+Xem thông tin chi tiết về Pod, bao gồm cả sự kiện:
+
+```shell
+kubectl describe pod memory-demo-3 --namespace=mem-example
+```
+
+Kết quả cho thấy Container không thể được lập lịch do không đủ bộ nhớ trên các Nodes:
+
+```
+Events:
+  ...  Reason            Message
+       ------            -------
+  ...  FailedScheduling  No nodes are available that match all of the following predicates:: Insufficient memory (3).
+```
+
+## Đơn vị đo bộ nhớ
+
+Tài nguyên bộ nhớ được đo bằng byte. Bạn có thể biểu thị bộ nhớ dưới dạng số nguyên thông thường hoặc số thập phân cố định với một trong các hậu tố sau: E, P, T, G, M, K, Ei, Pi, Ti, Gi, Mi, Ki.
+Ví dụ, các giá trị sau đây biểu thị xấp xỉ cùng một giá trị:
+
+```
+128974848, 129e6, 129M, 123Mi
+```
+
+Xoá Pod:
+
+```shell
+kubectl delete pod memory-demo-3 --namespace=mem-example
+```
+
+## Nếu bạn không cài đặt bộ nhớ tối đa
+
+Nếu bạn không cài đặt bộ nhớ tối đa cho một Container, một trong các tình huống sau sẽ xảy ra:
+
+- Container không có giới hạn tối đa về lượng bộ nhớ mà nó sử dụng. Container có thể sử dụng tất cả bộ nhớ có sẵn trên Node nơi nó đang chạy, điều này có thể kích hoạt OOM Killer. Hơn nữa, trong trường hợp OOM Kill, một container không có giới hạn tài nguyên sẽ có khả năng bị kết thúc cao hơn.
+
+* Container đang chạy trong một namespace có bộ nhớ tối đa mặc định, và Container tự động được gán giới hạn mặc định đó. Cluster administrators có thể sử dụng [LimitRange](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/#limitrange-v1-core) để chỉ định giá trị mặc định cho bộ nhớ tối đa.
+
+## Lý do cần có bộ nhớ tối thiểu và bộ nhớ tối đa
+
+Bằng cách cấu hình bộ nhớ tối thiểu và tối đa cho các Container chạy trong cluster của bạn, bạn có thể sử dụng hiệu quả tài nguyên bộ nhớ có sẵn trên các Node của cluster. Với việc giữ bộ nhớ tối thiểu của Pod ở mức thấp, Pod dễ được triển khai hơn. Bằng cách có bộ nhớ tối đa lớn hơn bộ nhớ tối thiểu, bạn đạt được hai điều:
+
+- Pod có thể có các đợt hoạt động cao điểm sử dụng bộ nhớ đang có sẵn.
+- Lượng bộ nhớ mà Pod có thể sử dụng trong đợt cao điểm được giới hạn ở một mức hợp lý.
+
+## Xóa các thành phần đã tạo
+
+Xóa namespace của bạn. Thao tác này sẽ xóa tất cả các Pod bạn đã tạo cho phần này:
+
+```shell
+kubectl delete namespace mem-example
+```
+
+## {{% heading "whatsnext" %}}
+
+### Dành cho nhà phát triển ứng dụng
+
+- [Cấp phát tài nguyên CPU cho Containers và Pods](/docs/tasks/configure-pod-container/assign-cpu-resource/)
+
+- [Cấp phát tài nguyên CPU và bộ nhớ ở cấp độ Pod](/docs/tasks/configure-pod-container/assign-pod-level-resources/)
+
+- [Cấu hình chất lượng dịch vụ (QoS) cho Pods](/docs/tasks/configure-pod-container/quality-service-pod/)
+
+### Dành cho quản trị viên cluster
+
+- [Thiết lập bộ nhớ mặc định tối thiểu và tối đa cho một Namespace](/docs/tasks/administer-cluster/manage-resources/memory-default-namespace/)
+
+- [Thiết lập CPU mặc định tối thiểu và tối đa cho một Namespace](/docs/tasks/administer-cluster/manage-resources/cpu-default-namespace/)
+
+- [Thiết lập giới hạn bộ nhớ tối thiểu và tối đa cho Namespace](/docs/tasks/administer-cluster/manage-resources/memory-constraint-namespace/)
+
+- [Thiết lập giới hạn CPU tối thiểu và tối đa cho Namespace](/docs/tasks/administer-cluster/manage-resources/cpu-constraint-namespace/)
+
+- [Thiết lập giới hạn tài nguyên CPU và bộ nhớ cho Namespace](/docs/tasks/administer-cluster/manage-resources/quota-memory-cpu-namespace/)
+
+- [Thiết lập giới hạn số lượng Pod trong Namespace](/docs/tasks/administer-cluster/manage-resources/quota-pod-namespace/)
+
+- [Thiết lập giới hạn cho các đối tượng API](/docs/tasks/administer-cluster/quota-api-object/)
+
+- [Thay đổi kích thước CPU và bộ nhớ được cấp cho Containers](/docs/tasks/configure-pod-container/resize-container-resources/)
diff --git a/content/vi/docs/tasks/configure-pod-container/task-tutorial-prereqs.md b/content/vi/docs/tasks/configure-pod-container/task-tutorial-prereqs.md
new file mode 100644
index 0000000000..a35fb8e3a7
--- /dev/null
+++ b/content/vi/docs/tasks/configure-pod-container/task-tutorial-prereqs.md
@@ -0,0 +1,3 @@
+Bạn cần có một [cluster Kubernetes](/vi/docs/setup/) và công cụ dòng lệnh kubectl phải được cấu hình để giao tiếp với cluster của bạn.
+
+Để kiểm tra phiên bản của kubectl, hãy chạy lệnh `kubectl version`.
diff --git a/content/vi/examples/pods/resource/cpu-request-limit-2.yaml b/content/vi/examples/pods/resource/cpu-request-limit-2.yaml
new file mode 100644
index 0000000000..f505c77fbb
--- /dev/null
+++ b/content/vi/examples/pods/resource/cpu-request-limit-2.yaml
@@ -0,0 +1,17 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: cpu-demo-2
+  namespace: cpu-example
+spec:
+  containers:
+  - name: cpu-demo-ctr-2
+    image: vish/stress
+    resources:
+      limits:
+        cpu: "100"
+      requests:
+        cpu: "100"
+    args:
+    - -cpus
+    - "2"
diff --git a/content/vi/examples/pods/resource/cpu-request-limit.yaml b/content/vi/examples/pods/resource/cpu-request-limit.yaml
new file mode 100644
index 0000000000..2cc0b2cf4f
--- /dev/null
+++ b/content/vi/examples/pods/resource/cpu-request-limit.yaml
@@ -0,0 +1,17 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: cpu-demo
+  namespace: cpu-example
+spec:
+  containers:
+  - name: cpu-demo-ctr
+    image: vish/stress
+    resources:
+      limits:
+        cpu: "1"
+      requests:
+        cpu: "0.5"
+    args:
+    - -cpus
+    - "2"
diff --git a/content/vi/examples/pods/resource/extended-resource-pod-2.yaml b/content/vi/examples/pods/resource/extended-resource-pod-2.yaml
new file mode 100644
index 0000000000..9c15d9ec86
--- /dev/null
+++ b/content/vi/examples/pods/resource/extended-resource-pod-2.yaml
@@ -0,0 +1,13 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: extended-resource-demo-2
+spec:
+  containers:
+  - name: extended-resource-demo-2-ctr
+    image: nginx
+    resources:
+      requests:
+        example.com/dongle: 2
+      limits:
+        example.com/dongle: 2
diff --git a/content/vi/examples/pods/resource/extended-resource-pod.yaml b/content/vi/examples/pods/resource/extended-resource-pod.yaml
new file mode 100644
index 0000000000..4fb3de740e
--- /dev/null
+++ b/content/vi/examples/pods/resource/extended-resource-pod.yaml
@@ -0,0 +1,13 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: extended-resource-demo
+spec:
+  containers:
+  - name: extended-resource-demo-ctr
+    image: nginx
+    resources:
+      requests:
+        example.com/dongle: 3
+      limits:
+        example.com/dongle: 3
diff --git a/content/vi/examples/pods/resource/memory-request-limit-2.yaml b/content/vi/examples/pods/resource/memory-request-limit-2.yaml
new file mode 100644
index 0000000000..99032c4fc2
--- /dev/null
+++ b/content/vi/examples/pods/resource/memory-request-limit-2.yaml
@@ -0,0 +1,16 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: memory-demo-2
+  namespace: mem-example
+spec:
+  containers:
+  - name: memory-demo-2-ctr
+    image: polinux/stress
+    resources:
+      requests:
+        memory: "50Mi"
+      limits:
+        memory: "100Mi"
+    command: ["stress"]
+    args: ["--vm", "1", "--vm-bytes", "250M", "--vm-hang", "1"]
diff --git a/content/vi/examples/pods/resource/memory-request-limit-3.yaml b/content/vi/examples/pods/resource/memory-request-limit-3.yaml
new file mode 100644
index 0000000000..d816393986
--- /dev/null
+++ b/content/vi/examples/pods/resource/memory-request-limit-3.yaml
@@ -0,0 +1,16 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: memory-demo-3
+  namespace: mem-example
+spec:
+  containers:
+  - name: memory-demo-3-ctr
+    image: polinux/stress
+    resources:
+      requests:
+        memory: "1000Gi"
+      limits:
+        memory: "1000Gi"
+    command: ["stress"]
+    args: ["--vm", "1", "--vm-bytes", "150M", "--vm-hang", "1"]
diff --git a/content/vi/examples/pods/resource/memory-request-limit.yaml b/content/vi/examples/pods/resource/memory-request-limit.yaml
new file mode 100644
index 0000000000..07ce3e7d3c
--- /dev/null
+++ b/content/vi/examples/pods/resource/memory-request-limit.yaml
@@ -0,0 +1,16 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: memory-demo
+  namespace: mem-example
+spec:
+  containers:
+  - name: memory-demo-ctr
+    image: polinux/stress
+    resources:
+      requests:
+        memory: "100Mi"
+      limits:
+        memory: "200Mi"
+    command: ["stress"]
+    args: ["--vm", "1", "--vm-bytes", "150M", "--vm-hang", "1"]
diff --git a/content/vi/examples/pods/resource/pod-level-cpu-request-limit.yaml b/content/vi/examples/pods/resource/pod-level-cpu-request-limit.yaml
new file mode 100644
index 0000000000..d9a5f088b8
--- /dev/null
+++ b/content/vi/examples/pods/resource/pod-level-cpu-request-limit.yaml
@@ -0,0 +1,17 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: cpu-demo
+  namespace: pod-resources-example
+spec:
+  resources:
+    limits:
+      cpu: "1"
+    requests:
+      cpu: "0.5"
+  containers:
+  - name: cpu-demo-ctr
+    image: vish/stress
+    args:
+    - -cpus
+    - "2"
diff --git a/content/vi/examples/pods/resource/pod-level-memory-request-limit.yaml b/content/vi/examples/pods/resource/pod-level-memory-request-limit.yaml
new file mode 100644
index 0000000000..8379743486
--- /dev/null
+++ b/content/vi/examples/pods/resource/pod-level-memory-request-limit.yaml
@@ -0,0 +1,16 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: memory-demo
+  namespace: pod-resources-example
+spec:
+  resources:
+    requests:
+      memory: "100Mi"
+    limits:
+      memory: "200Mi"
+  containers:
+  - name: memory-demo-ctr
+    image: nginx
+    command: ["stress"]
+    args: ["--vm", "1", "--vm-bytes", "150M", "--vm-hang", "1"]
diff --git a/content/vi/examples/pods/resource/pod-level-resources.yaml b/content/vi/examples/pods/resource/pod-level-resources.yaml
new file mode 100644
index 0000000000..30217a777f
--- /dev/null
+++ b/content/vi/examples/pods/resource/pod-level-resources.yaml
@@ -0,0 +1,28 @@
+apiVersion: v1
+kind: Pod
+metadata:
+  name: pod-resources-demo
+  namespace: pod-resources-example
+spec:
+  resources:
+    limits:
+      cpu: "1"
+      memory: "200Mi"
+    requests:
+      cpu: "1"
+      memory: "100Mi"
+  containers:
+  - name: pod-resources-demo-ctr-1
+    image: nginx
+    resources:
+      limits:
+        cpu: "0.5"
+        memory: "100Mi"
+      requests:
+        cpu: "0.5"
+        memory: "50Mi"
+  - name: pod-resources-demo-ctr-2
+    image: fedora
+    command:
+    - sleep
+    - inf
--
2.46.2


From b1b8e7486b54413c3d351ad262e2dfa91bb3e631 Mon Sep 17 00:00:00 2001
From: aud1ence <daruma19051890@gmail.com>
Date: Sun, 30 Mar 2025 02:22:42 +0700
Subject: [PATCH 2/2] add email address for EasyCLA

---
 .../assign-memory-resource.md                 | 21 ++++++++++++-------
 1 file changed, 13 insertions(+), 8 deletions(-)

diff --git a/content/vi/docs/tasks/configure-pod-container/assign-memory-resource.md b/content/vi/docs/tasks/configure-pod-container/assign-memory-resource.md
index 5bd5c05dd5..5d963774f4 100644
--- a/content/vi/docs/tasks/configure-pod-container/assign-memory-resource.md
+++ b/content/vi/docs/tasks/configure-pod-container/assign-memory-resource.md
@@ -10,6 +10,7 @@ Trang này hướng dẫn cách cấp phát bộ nhớ _request_ (tối thiểu)

 ## {{% heading "prerequisites" %}}

+
 {{< include "task-tutorial-prereqs.md" >}} {{< version-check >}}

 Mỗi Node trong Cluster của bạn phải có ít nhất 300 MiB bộ nhớ.
@@ -35,6 +36,8 @@ NAME
 v1beta1.metrics.k8s.io
 ```

+
+
 <!-- steps -->

 ## Tạo namespace
@@ -78,12 +81,13 @@ Kết quả cho thấy Container trong Pod có bộ nhớ tối thiểu là 100
 và bộ nhớ tối đa là 200 MiB.

 ```yaml
----
+...
 resources:
   requests:
     memory: 100Mi
   limits:
     memory: 200Mi
+...
 ```

 Chạy lệnh `kubectl top` để xem các thông số của Pod:
@@ -146,12 +150,12 @@ Kết quả cho thấy Container đã dừng hoạt động vì hết bộ nhớ

 ```yaml
 lastState:
-  terminated:
-    containerID: 65183c1877aaec2e8427bc95609cc52677a454b56fcb24340dbd22917c23b10f
-    exitCode: 137
-    finishedAt: 2017-06-20T20:52:19Z
-    reason: OOMKilled
-    startedAt: null
+   terminated:
+     containerID: 65183c1877aaec2e8427bc95609cc52677a454b56fcb24340dbd22917c23b10f
+     exitCode: 137
+     finishedAt: 2017-06-20T20:52:19Z
+     reason: OOMKilled
+     startedAt: null
 ```

 Container trong phần thực hành này có thể được khởi động lại, vì vậy kubelet sẽ khởi động lại nó. Lặp lại lệnh này vài lần để thấy Container liên tục bị dừng hoạt động và khởi động lại:
@@ -167,7 +171,6 @@ kubectl get pod memory-demo-2 --namespace=mem-example
 NAME            READY     STATUS      RESTARTS   AGE
 memory-demo-2   0/1       OOMKilled   1          37s
 ```
-
 ```

 kubectl get pod memory-demo-2 --namespace=mem-example
@@ -289,6 +292,8 @@ Xóa namespace của bạn. Thao tác này sẽ xóa tất cả các Pod bạn
 kubectl delete namespace mem-example
 ```

+
+
 ## {{% heading "whatsnext" %}}

 ### Dành cho nhà phát triển ứng dụng
--
2.46.2

