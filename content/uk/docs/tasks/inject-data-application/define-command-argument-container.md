---
title: Визначення команд та аргументів для контейнера
content_type: task
weight: 10
---

<!-- overview -->

Ця сторінка показує, як визначати команди та аргументи при запуску контейнера
в {{< glossary_tooltip term_id="pod" >}}.

## {{% heading "prerequisites" %}}

{{< include "task-tutorial-prereqs.md" >}} {{< version-check >}}

<!-- steps -->

## Визначення команди та аргументів при створенні Podʼа {#define-a-command-and-arguments-when-you-create-a-pod}

При створенні Podʼа ви можете визначити команду та аргументи для контейнерів, які працюють в Podʼі. Щоб визначити команду, включіть поле `command` у файл конфігурації. Щоб визначити аргументи для команди, включіть поле `args` у файл конфігурації. Команду та аргументи, які
ви визначаєте, не можна змінити після створення Podʼа.

Команда та аргументи, які ви визначаєте у файлі конфігурації, перевизначають станадртну команду та аргументи, надані образом контейнера. Якщо ви визначаєте аргументи, але не визначаєте команду, використовується стандартна команда з вашими новими аргументами.

{{< note >}}
Поле `command` відповідає `ENTRYPOINT`, а поле `args` відповідає `CMD` у деяких реалізаціях середовища виконання контейнерів.
{{< /note >}}

У цьому завданні ви створюєте Pod, який запускає один контейнер. Файл конфігурації для Podʼа визначає команду та два аргументи:

{{% code_sample file="pods/commands.yaml" %}}

1. Створіть Podʼ на основі файлу конфігурації YAML:

   ```shell
   kubectl apply -f https://k8s.io/examples/pods/commands.yaml
   ```

1. Перегляньте список запущених Podʼів:

   ```shell
   kubectl get pods
   ```

   Вивід показує, що контейнер, який працював у Podʼі command-demo, завершився.

1. Щоб побачити вивід команди, яка запустилася в контейнері, перегляньте логи з Podʼа:

   ```shell
   kubectl logs command-demo
   ```

   Вивід показує значення змінних середовища HOSTNAME та KUBERNETES_PORT:

   ```none
   command-demo
   tcp://10.3.240.1:443
   ```

## Використання змінних середовища для визначення аргументів {#use-environment-variables-to-define-arguments}

У попередньому прикладі ви визначили аргументи безпосередньо, надавши їх. Як альтернативу наданню рядків безпосередньо, ви можете визначати аргументи, використовуючи змінні середовища:

```yaml
env:
- name: MESSAGE
  value: "hello world"
command: ["/bin/echo"]
args: ["$(MESSAGE)"]
```

Це означає, що ви можете визначити аргумент для Podʼа, використовуючи будь-які з технік доступних для визначення змінних середовища, включаючи [ConfigMap](/docs/tasks/configure-pod-container/configure-pod-configmap/) та [Secret](/docs/concepts/configuration/secret/).

{{< note >}}
Змінна середовища зʼявляється у дужках, `"$(VAR)"`. Це необхідно для того, щоб змінна була розгорнута у полі `command` або `args`.
{{< /note >}}

## Виконання команди в оболонці {#run-a-command-in-a-shell}

У деяких випадках вам потрібно, щоб ваша команда запускалася в оболонці. Наприклад, ваша
команда може складатися з кількох команд, обʼєднаних в конвеєр, або це може бути сценарій оболонки. Щоб запустити вашу команду в оболонці, оберніть її так:

```shell
command: ["/bin/sh"]
args: ["-c", "while true; do echo hello; sleep 10;done"]
```

## {{% heading "whatsnext" %}}

* Дізнайтеся більше про [налаштування Podʼів та контейнерів](/docs/tasks/).
* Дізнайтеся більше про [виконання команд у контейнері](/docs/tasks/debug/debug-application/get-shell-running-container/).
* Дивіться [Контейнер](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/#container-v1-core).
