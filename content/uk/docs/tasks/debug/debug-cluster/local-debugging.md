---
title: Розробка та налагодження сервісів локально за допомогою telepresence
content_type: task
weight: 50
---

<!-- overview -->

{{% thirdparty-content %}}

Зазвичай застосунки Kubernetes складаються з кількох окремих сервісів, кожен з яких працює у своєму власному контейнері. Розробка та налагодження цих сервісів на віддаленому кластері Kubernetes може бути незручною, оскільки ви змушені [отримати оболонку в робочому контейнері](/docs/tasks/debug/debug-application/get-shell-running-container/) для запуску інструментів налагодження.

`telepresence` — це інструмент, який полегшує процес розробки та налагодження сервісів локально, прокидаючи проксі для сервісу на віддаленому кластері Kubernetes. Використання `telepresence` дозволяє використовувати власні інструменти, такі як налагоджувач та IDE, для локального сервісу та забезпечує повний доступ до ConfigMap, Secret та Service, що працюють на віддаленому кластері.

У цьому документі описано використання `telepresence` для розробки та налагодження сервісів локально, які працюють на віддаленому кластері.

## {{% heading "prerequisites" %}}

* Встановлений кластер Kubernetes
* Налаштований `kubectl` для звʼязку з кластером
* [Telepresence](https://www.telepresence.io/docs/latest/quick-start/) вже встановлено

<!-- steps -->

## Підʼєднання вашого локального компʼютера до віддаленого кластера Kubernetes {#connecting-your-local-machine-to-a-remote-kubernetes-cluster}

Після встановлення `telepresence` запустіть `telepresence connect`, щоб запустити його Демона та підʼєднати ваш робочий компʼютер до кластера.

```shell
$ telepresence connect

Launching Telepresence Daemon
...
Connected to context default (https://<cluster public IP>)
```

Ви можете використовувати команду curl для отримання доступу до сервісів за синтаксисом Kubernetes, наприклад, `curl -ik https://kubernetes.default`.

## Розробка або налагодження наявного сервісу {#developing-or-debugging-an-existing-service}

При розробці застосунку у Kubernetes ви зазвичай програмуєте або налагоджувати один сервіс. Цей сервіс може потребувати доступу до інших сервісів для тестування та налагодження. Один із варіантів — використання конвеєра постійного розгортання (continuous
deployment pipeline), але навіть найшвидший конвеєр розгортання додає затримку в цикл програмування або налагодження.

Використовуйте команду `telepresence intercept $SERVICE_NAME --port $LOCAL_PORT:$REMOTE_PORT` для створення "перехоплення" для перенаправлення трафіку віддаленого сервісу.

Де:

* `$SERVICE_NAME` — це назва вашого локального сервісу
* `$LOCAL_PORT` — це порт, на якому працює ваш сервіс на вашому локальному робочому місці
* `$REMOTE_PORT` — це порт, на який ваш сервіс слухає в кластері

Виконавши цю команду, Telepresence каже перенаправляти віддалений трафік на ваш локальний сервіс замість сервісу в віддаленому кластері Kubernetes. Вносьте зміни до вихідного коду вашого сервісу локально, зберігайте та переглядайте відповідні зміни, коли ви отримуєте доступ до вашого віддаленого застосунку, ефект буде відразу. Ви також можете запустити ваш локальний сервіс, використовуючи налагоджувач або будь-який інший локальний інструмент розробки.

## Як працює Telepresence? {#how-does-telepresence-work}

Telepresence встановлює агента перенаправлення трафіку поряд із контейнером вашого наявного застосунку, який працює в віддаленому кластері. Він перехоплює всі запити на трафік, що надходять до Podʼа, і замість того, щоб пересилати це до застосунку у віддаленому кластері, він маршрутизує весь трафік (коли ви створюєте [глобальне перехоплення](https://www.getambassador.io/docs/telepresence/latest/concepts/intercepts/#global-intercept) або підмножину трафіку (коли ви створюєте [персональне перехоплення](https://www.getambassador.io/docs/telepresence/latest/concepts/intercepts/#personal-intercept)) до вашого локального середовища розробки.

## {{% heading "whatsnext" %}}

Якщо вас цікавить практичний посібник, перегляньте ось [цей посібник](https://cloud.google.com/community/tutorials/developing-services-with-k8s), в якому покроково описано розробку програми Guestbook локально на Google Kubernetes Engine.

Також читання відвідайте [вебсайт Telepresence](https://www.telepresence.io).
