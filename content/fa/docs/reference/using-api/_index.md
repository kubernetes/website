---
title: نمای کلی API
reviewers:
- erictune
- lavalamp
- jbeda
content_type: مفهوم
weight: 20
no_list: true
card:
  name: مرجع
  weight: 50
  title:  نمای کلی API
---

<!-- overview -->


این بخش اطلاعات مرجع برای API کوبرنتیز را ارائه می‌دهد.

REST API ساختار اساسی کوبرنتیز است. تمام عملیات و ارتباطات بین اجزا و دستورات کاربر خارجی، فراخوانی‌های REST API هستند که سرور API آنها را مدیریت می‌کند. در نتیجه، هر چیزی در پلتفرم کوبرنتیز به عنوان یک شیء API در نظر گرفته می‌شود و ورودی متناظر آن در [API](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/) قرار دارد.

[مرجع API Kubernetes](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/) API مربوط به نسخه Kubernetes {{< param "version" >}} را فهرست می‌کند.


برای اطلاعات کلی پیش‌زمینه، [API Kubernetes](/docs/concepts/overview/kubernetes-api/) را مطالعه کنید.
[Controlling Access to the Kubernetes API](/docs/concepts/security/controlling-access/)
نحوه احراز هویت کلاینت‌ها در سرور Kubernetes API و نحوه تأیید درخواست‌های آنها را شرح می‌دهد.




## API versioning

طرح‌های سریال‌سازی JSON و Protobuf از دستورالعمل‌های یکسانی برای تغییرات طرحواره پیروی می‌کنند. توضیحات زیر هر دو قالب را پوشش می‌دهد.

نسخه‌بندی API و نسخه‌بندی نرم‌افزار به طور غیرمستقیم به هم مرتبط هستند.

[API and release versioning proposal](https://git.k8s.io/sig-release/release-engineering/versioning.md)

رابطه بین نسخه‌بندی API و نسخه‌بندی نرم‌افزار را شرح می‌دهد.

نسخه‌های مختلف API سطوح مختلف پایداری و پشتیبانی را نشان می‌دهند.

می‌توانید اطلاعات بیشتری در مورد معیارهای هر سطح را در [API Changes documentation](https://git.k8s.io/community/contributors/devel/sig-architecture/api_changes.md#alpha-beta-and-stable-versions). بیابید.


در اینجا خلاصه‌ای از هر سطح آمده است:

- آلفا:
  - نام نسخه‌ها شامل `alpha` است (برای مثال، `v1alpha1`).
  - نسخه‌های آلفای API داخلی به طور پیش‌فرض غیرفعال هستند و برای استفاده باید صریحاً در پیکربندی `kube-apiserver` فعال شوند.
  - ممکن است نرم‌افزار دارای اشکالاتی باشد. فعال کردن یک ویژگی ممکن است اشکالات را آشکار کند.
  - پشتیبانی از یک API آلفا ممکن است در هر زمانی و بدون اطلاع قبلی قطع شود.
  - ممکن است API در نسخه‌های بعدی نرم‌افزار، بدون اطلاع قبلی، به روش‌های ناسازگار تغییر کند.
  - به دلیل افزایش خطر اشکالات و عدم پشتیبانی طولانی مدت، استفاده از این نرم‌افزار فقط در خوشه‌های آزمایشی کوتاه‌مدت توصیه می‌شود.


- بتا:
  - نام نسخه‌ها شامل «بتا» است (برای مثال، «v2beta3»).
  - نسخه‌های بتای API داخلی به طور پیش‌فرض غیرفعال هستند و برای استفاده باید صریحاً در پیکربندی `kube-apiserver` فعال شوند (**به جز** نسخه‌های بتای APIهای معرفی‌شده قبل از Kubernetes 1.22 که به طور پیش‌فرض فعال بودند).
  - نسخه‌های بتای API داخلی، از زمان معرفی تا منسوخ شدن، حداکثر ۹ ماه یا ۳ نسخه فرعی (هر کدام که طولانی‌تر باشد) و از زمان منسوخ شدن تا حذف، حداکثر ۹ ماه یا ۳ نسخه فرعی (هر کدام که طولانی‌تر باشد) عمر مفید دارند.
  - این نرم‌افزار به خوبی آزمایش شده است. فعال کردن یک ویژگی، ایمن تلقی می‌شود.
  - پشتیبانی از یک ویژگی قطع نخواهد شد، هرچند جزئیات آن ممکن است تغییر کند.

  - طرحواره و/یا معنای اشیاء ممکن است در نسخه بعدی بتا یا API پایدار به روش‌های ناسازگار تغییر کند. وقتی این اتفاق می‌افتد، دستورالعمل‌های مهاجرت ارائه می‌شوند. سازگاری با نسخه بعدی بتا یا  API پایدار ممکن است نیاز به ویرایش یا ایجاد مجدد اشیاء API داشته باشد و ممکن است ساده نباشد.

این مهاجرت ممکن است برای برنامه‌هایی که به این ویژگی متکی هستند، نیاز به زمان از کار افتادن داشته باشد.
  - این نرم‌افزار برای استفاده در محیط عملیاتی توصیه نمی‌شود. نسخه‌های بعدی
  ممکن است تغییرات ناسازگاری ایجاد کنند. استفاده از نسخه‌های بتا API
برای انتقال به نسخه‌های بعدی بتا یا   API پایدار
  پس از منسوخ شدن و عدم ارائه نسخه بتا API الزامی است.
  {{< note >}}
  لطفاً ویژگی‌های بتا را امتحان کنید و بازخورد خود را ارائه دهید. پس از خروج ویژگی‌ها از نسخه بتا، ممکن است ایجاد تغییرات بیشتر عملی نباشد.

  {{< /note >}}

- پایدار:
  - نام نسخه `vX` است که در آن `X` یک عدد صحیح است.
  - نسخه‌های پایدار API برای تمام نسخه‌های آینده در نسخه اصلی Kubernetes در دسترس خواهند بود،
    و در حال حاضر هیچ برنامه‌ای برای نسخه اصلی Kubernetes که APIهای پایدار را حذف کند، وجود ندارد.

## API groups

[API groups](https://git.k8s.io/design-proposals-archive/api-machinery/api-group.md)
گسترش API Kubernetes را آسان‌تر می‌کند.
گروه API در یک مسیر REST و در فیلد `apiVersion` یک شیء سریالی شده مشخص می‌شود.


چندین گروه API در Kubernetes وجود دارد:



*  گروه *core* (که *میراث* نیز نامیده می‌شود) در مسیر REST `/api/v1` یافت می‌شود.
گروه core به عنوان بخشی از فیلد `apiVersion` مشخص نشده است، برای مثال، `apiVersion: v1`.
*  گروه‌های نامگذاری شده در مسیر REST `/apis/$GROUP_NAME/$VERSION` قرار دارند و از `apiVersion: $GROUP_NAME/$VERSION` (برای مثال، `apiVersion: batch/v1`) استفاده می‌کنند.
شما می‌توانید لیست کامل گروه‌های API پشتیبانی شده را در
[مرجع API Kubernetes](/docs/reference/generated/kubernetes-api/{{< param "version" >}}/#-strong-api-groups-strong-) بیابید.
## Enabling or disabling API groups   {#enabling-or-disabling}

منابع و گروه‌های API خاصی به طور پیش‌فرض فعال هستند. می‌توانید با تنظیم `--runtime-config` در سرور API، آنها را فعال یا غیرفعال کنید. پرچم `--runtime-config` جفت‌های `<key>[=<value>]` را که با کاما از هم جدا شده‌اند، می‌پذیرد که پیکربندی زمان اجرای سرور API را توصیف می‌کنند. اگر قسمت `=<value>` حذف شود، طوری رفتار می‌شود که انگار `=true` مشخص شده است. به عنوان مثال:

- برای غیرفعال کردن `batch/v1`، مقدار `--runtime-config=batch/v1=false` را تنظیم کنید.
- برای فعال کردن `batch/v2alpha1`، مقدار `--runtime-config=batch/v2alpha1` را تنظیم کنید.
- برای فعال کردن یک نسخه خاص از API، مانند `storage.k8s.io/v1beta1/csistoragecapacities`، مقدار `--runtime-config=storage.k8s.io/v1beta1/csistoragecapacities` را تنظیم کنید.

{{< note >}}
وقتی گروه‌ها یا منابع را فعال یا غیرفعال می‌کنید، باید سرور API و مدیر کنترل را مجدداً راه‌اندازی کنید تا تغییرات `--runtime-config` اعمال شوند.
{{< /note >}}

## Persistence

کوبرنتس حالت سریالیزه شده خود را بر اساس منابع API با نوشتن آنها در ... ذخیره می‌کند.
{{< glossary_tooltip term_id="etcd" >}}.

## {{% heading "whatsnext" %}}

- درباره  بیشتر بدانید [API conventions](https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#api-conventions)
- مستندات طراحی [aggregator] را مطالعه کنید (https://git.k8s.io/design-proposals-archive/api-machinery/aggregated-api-servers.md)