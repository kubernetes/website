---
reviewers:
- xirehat
title: اجرای استانداردهای امنیتی pod
weight: 40
---

<!-- overview -->

این صفحه مروری بر بهترین شیوه‌ها در مورد اجرای [استانداردهای امنیتی پاد](/docs/concepts/security/pod-security-standards) ارائه می‌دهد.

<!-- body -->

## استفاده از کنترل‌کننده پذیرش امنیتی داخلی pod

{{< feature-state for_k8s_version="v1.25" state="stable" >}}

کنترل‌کننده‌ی پذیرش امنیت پاد [Pod Security Admission Controller](/docs/reference/access-authn-authz/admission-controllers/#podsecurity) قصد دارد جایگزین سیاست‌های امنیتی منسوخ‌شده‌ی پاد (PodSecurityPolicies) شود.

### پیکربندی تمام فضاهای نام خوشه

فضاهای نامی که فاقد هرگونه پیکربندی هستند، باید به عنوان شکاف‌های قابل توجه در مدل امنیتی خوشه شما در نظر گرفته شوند. توصیه می‌کنیم برای تجزیه و تحلیل انواع بارهای کاری موجود در هر فضای نام، وقت بگذارید و با مراجعه به استانداردهای امنیتی پاد، سطح مناسبی را برای هر یک از آنها تعیین کنید. فضاهای نام بدون برچسب فقط باید نشان دهند که هنوز ارزیابی نشده‌اند.

در سناریویی که همه بارهای کاری در همه فضاهای نام الزامات امنیتی یکسانی دارند، ما یک [مثال](/docs/tasks/configure-pod-container/enforce-standards-namespace-labels/#applying-to-all-namespaces) ارائه می‌دهیم که نحوه اعمال برچسب‌های PodSecurity را به صورت انبوه نشان می‌دهد.

### اصل حداقل امتیاز را بپذیرید

در یک دنیای ایده‌آل، هر پاد در هر فضای نامی الزامات سیاست `محدود` را برآورده می‌کند. با این حال، این امر نه ممکن است و نه عملی، زیرا برخی از بارهای کاری به دلایل موجه به امتیازات بالاتری نیاز دارند.

- فضاهای نامی که به بارهای کاری «ممتاز» اجازه می‌دهند، باید کنترل‌های دسترسی مناسبی را ایجاد و اجرا کنند.
- برای بارهای کاری که در آن فضاهای نام مجاز اجرا می‌شوند، مستندات مربوط به الزامات امنیتی منحصر به فرد آنها را نگهداری کنید. در صورت امکان، در نظر بگیرید که چگونه می‌توان این الزامات را بیشتر محدود کرد.

### اتخاذ یک استراتژی چند حالته

حالت‌های `audit` و `warn` کنترل‌کننده پذیرش استانداردهای امنیتی پاد، جمع‌آوری بینش‌های امنیتی مهم در مورد پادهای شما را بدون ایجاد اختلال در حجم کار موجود، آسان می‌کند.

فعال کردن این حالت‌ها برای همه فضاهای نام، و تنظیم آنها روی سطح و نسخه مورد نظر شما که در نهایت می‌خواهید `enforce` کنید، یک تمرین خوب است. هشدارها و حاشیه‌نویسی‌های حسابرسی ایجاد شده در این مرحله می‌توانند شما را به سمت آن وضعیت هدایت کنند. اگر انتظار دارید نویسندگان بار کاری تغییراتی را برای مطابقت با سطح مورد نظر ایجاد کنند، حالت `warn` را فعال کنید. اگر انتظار دارید از گزارش‌های حسابرسی برای نظارت/هدایت تغییرات برای مطابقت با سطح مورد نظر استفاده کنید، حالت `audit` را فعال کنید.

وقتی حالت `enforce` را روی مقدار دلخواه خود تنظیم کرده‌اید، این حالت‌ها همچنان می‌توانند به چند روش مختلف مفید باشند:

- با تنظیم `warn` در همان سطح `enforce`، کلاینت‌ها هنگام تلاش برای ایجاد Podها (یا منابعی که قالب‌های Pod دارند) که اعتبارسنجی را پشت سر نمی‌گذارند، هشدارهایی دریافت می‌کنند. این به آنها کمک می‌کند تا آن منابع را برای مطابقت به‌روزرسانی کنند.
- در فضاهای نامی که `enforce` را به یک نسخه غیرجدید خاص پین می‌کنند، تنظیم حالت‌های `audit` و `warn` در همان سطح `enforce`، اما به نسخه `latest`، امکان مشاهده تنظیماتی را فراهم می‌کند که در نسخه‌های قبلی مجاز بودند اما طبق بهترین شیوه‌های فعلی مجاز نیستند.

## جایگزین‌های شخص ثالث

{{% thirdparty-content %}}

گزینه‌های دیگری برای اجرای پروفایل‌های امنیتی در بوم‌سازگان کوبرنتیز در حال توسعه هستند:

- [Kubewarden](https://github.com/kubewarden).
- [Kyverno](https://kyverno.io/policies/).
- [OPA Gatekeeper](https://github.com/open-policy-agent/gatekeeper).

تصمیم برای استفاده از یک راهکار داخلی (مثلاً کنترل‌کننده پذیرش PodSecurity) در مقابل یک ابزار شخص ثالث، کاملاً به شرایط شما بستگی دارد. هنگام ارزیابی هر راهکاری، اعتماد به زنجیره تأمین شما بسیار مهم است. در نهایت، استفاده از هر یک از رویکردهای فوق‌الذکر بهتر از انجام ندادن هیچ کاری خواهد بود.