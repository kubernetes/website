apiVersion: v1
kind: Pod
metadata:
  name: pv-pod-backup
spec:
  volumes:
    - name: task-pv-storage
      persistentVolumeClaim:
        claimName: task-pv-claim
  initContainers:
  - name: init-volume
    image: httpd:2.4
    command: ["/bin/bash", "-c"]
    args: 
      - |
        echo "Initializing the mounted volume...";
        echo "Initialized at: $(date)" >> /usr/local/apache2/htdocs/index.html;

    volumeMounts:
      - mountPath: "/mnt/data"
        name: task-pv-storage
  containers:
    - name: task-pv-container
      image: httpd:2.4
      ports:
        - containerPort: 80
          name: "http-server"
      volumeMounts:
        - mountPath: "/usr/local/apache2/htdocs"
          name: task-pv-storage
