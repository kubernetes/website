<?xml version="1.0" encoding="UTF-8"?>
<svg aria-describedby="chart-desc-graph-div" aria-roledescription="sequence" role="graphics-document document" viewBox="-50 -10 2668.5 2637.5" style="max-width: 100%;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-div" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><desc id="chart-desc-graph-div">Sequence diagram for kube-apiserver handling requests during the admission phase showing mutation webhooks, followed by ValidatingAdmissionPolicies and finally validating webhooks.
It shows that the continue until the first rejection, or being accepted by all of them.
It also shows that mutations by mutating webhooks cause all previously called webhooks to be called again.</desc><g><rect class="rect" height="2616.5" width="1002.5" stroke="rgb(0,0,0, 0.5)" fill="rgb(248,248,248)" y="0" x="977.5"></rect><text class="text" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="22" x="1478.75"><tspan dy="-8" x="1478.75">Admission Control </tspan></text><text class="text" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="22" x="1478.75"><tspan dy="8" x="1478.75">aborted if any phase rejects the Request</tspan></text></g><g><rect class="rect" height="2616.5" width="360" stroke="rgb(0,0,0, 0.5)" fill="rgb(248,248,248)" y="0" x="556.5"></rect><text class="text" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="22" x="736.5"><tspan dy="0" x="736.5">Authentication &amp; Authorisation</tspan></text></g><rect class="rect" height="324.5" width="2295" fill="rgba(50, 108, 229, .15)" y="2121" x="273.5"></rect><g><rect class="actor actor-bottom" ry="3" rx="3" name="StorageLayer" height="65" width="150" stroke="#666" fill="#eaeaea" y="2541.5" x="2409.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="2484.5"><tspan dy="-8" x="2484.5">storage layer</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="2484.5"><tspan dy="8" x="2484.5">(etcd)</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="ExternalWebhook" height="65" width="193" stroke="#666" fill="#eaeaea" y="2541.5" x="2091.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="2188"><tspan dy="-8" x="2188"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="2188"><tspan dy="8" x="2188">webhook HTTP listener</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="ValidatingWebhook" height="65" width="150" stroke="#666" fill="#eaeaea" y="2541.5" x="1825"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1900"><tspan dy="-16" x="1900">Validating</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1900"><tspan dy="0" x="1900">admission</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1900"><tspan dy="16" x="1900">webhook(s)</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="ValidatingBuiltIn" height="65" width="182" stroke="#666" fill="#eaeaea" y="2541.5" x="1583.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1674.5"><tspan dy="-16" x="1674.5">Built-in validating</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1674.5"><tspan dy="0" x="1674.5">admission controllers</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1674.5"><tspan dy="16" x="1674.5">(not webhooks)</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="MutatingBuiltIn" height="65" width="216" stroke="#666" fill="#eaeaea" y="2541.5" x="1317.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1425.5"><tspan dy="-16" x="1425.5">Built-in mutating</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1425.5"><tspan dy="0" x="1425.5">admission controllers</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1425.5"><tspan dy="16" x="1425.5">and configured webhooks</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="AdmissionControl" height="65" width="238" stroke="#666" fill="#eaeaea" y="2541.5" x="982.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1101.5"><tspan dy="-8" x="1101.5"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="1101.5"><tspan dy="8" x="1101.5">Admission control entrypoint</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="Authz" height="65" width="150" stroke="#666" fill="#eaeaea" y="2541.5" x="761.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="836.5"><tspan dy="-8" x="836.5"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="836.5"><tspan dy="8" x="836.5">Authorization</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="Authn" height="65" width="150" stroke="#666" fill="#eaeaea" y="2541.5" x="561.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="636.5"><tspan dy="-8" x="636.5"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="636.5"><tspan dy="8" x="636.5">Authentication</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="API" height="65" width="187" stroke="#666" fill="#eaeaea" y="2541.5" x="312.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="406"><tspan dy="-16" x="406">Kubernetes API server</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="406"><tspan dy="0" x="406"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="406"><tspan dy="16" x="406">HTTP front end</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="User" height="65" width="150" stroke="#666" fill="#eaeaea" y="2541.5" x="0"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2574" x="75"><tspan dy="0" x="75">Client / user</tspan></text></g><g><line name="StorageLayer" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="2484.5" y1="2305.5" x1="2484.5" id="actor789"></line><g id="root-789"><rect class="actor actor-top" ry="3" rx="3" name="StorageLayer" height="65" width="150" stroke="#666" fill="#eaeaea" y="2240.5" x="2409.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2273" x="2484.5"><tspan dy="-8" x="2484.5">storage layer</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="2273" x="2484.5"><tspan dy="8" x="2484.5">(etcd)</tspan></text></g></g><g><line name="ExternalWebhook" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="2188" y1="119" x1="2188" id="actor788"></line><g id="root-788"><rect class="actor actor-top" ry="3" rx="3" name="ExternalWebhook" height="65" width="193" stroke="#666" fill="#eaeaea" y="54" x="2091.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="2188"><tspan dy="-8" x="2188"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="2188"><tspan dy="8" x="2188">webhook HTTP listener</tspan></text></g></g><g><line name="ValidatingWebhook" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="1900" y1="119" x1="1900" id="actor787"></line><g id="root-787"><rect class="actor actor-top" ry="3" rx="3" name="ValidatingWebhook" height="65" width="150" stroke="#666" fill="#eaeaea" y="54" x="1825"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1900"><tspan dy="-16" x="1900">Validating</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1900"><tspan dy="0" x="1900">admission</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1900"><tspan dy="16" x="1900">webhook(s)</tspan></text></g></g><g><line name="ValidatingBuiltIn" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="1674.5" y1="119" x1="1674.5" id="actor786"></line><g id="root-786"><rect class="actor actor-top" ry="3" rx="3" name="ValidatingBuiltIn" height="65" width="182" stroke="#666" fill="#eaeaea" y="54" x="1583.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1674.5"><tspan dy="-16" x="1674.5">Built-in validating</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1674.5"><tspan dy="0" x="1674.5">admission controllers</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1674.5"><tspan dy="16" x="1674.5">(not webhooks)</tspan></text></g></g><g><line name="MutatingBuiltIn" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="1425.5" y1="119" x1="1425.5" id="actor785"></line><g id="root-785"><rect class="actor actor-top" ry="3" rx="3" name="MutatingBuiltIn" height="65" width="216" stroke="#666" fill="#eaeaea" y="54" x="1317.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1425.5"><tspan dy="-16" x="1425.5">Built-in mutating</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1425.5"><tspan dy="0" x="1425.5">admission controllers</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1425.5"><tspan dy="16" x="1425.5">and configured webhooks</tspan></text></g></g><g><line name="AdmissionControl" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="1101.5" y1="119" x1="1101.5" id="actor784"></line><g id="root-784"><rect class="actor actor-top" ry="3" rx="3" name="AdmissionControl" height="65" width="238" stroke="#666" fill="#eaeaea" y="54" x="982.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1101.5"><tspan dy="-8" x="1101.5"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="1101.5"><tspan dy="8" x="1101.5">Admission control entrypoint</tspan></text></g></g><g><line name="Authz" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="836.5" y1="119" x1="836.5" id="actor783"></line><g id="root-783"><rect class="actor actor-top" ry="3" rx="3" name="Authz" height="65" width="150" stroke="#666" fill="#eaeaea" y="54" x="761.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="836.5"><tspan dy="-8" x="836.5"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="836.5"><tspan dy="8" x="836.5">Authorization</tspan></text></g></g><g><line name="Authn" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="636.5" y1="119" x1="636.5" id="actor782"></line><g id="root-782"><rect class="actor actor-top" ry="3" rx="3" name="Authn" height="65" width="150" stroke="#666" fill="#eaeaea" y="54" x="561.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="636.5"><tspan dy="-8" x="636.5"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="636.5"><tspan dy="8" x="636.5">Authentication</tspan></text></g></g><g><line name="API" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="406" y1="119" x1="406" id="actor781"></line><g id="root-781"><rect class="actor actor-top" ry="3" rx="3" name="API" height="65" width="187" stroke="#666" fill="#eaeaea" y="54" x="312.5"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="406"><tspan dy="-16" x="406">Kubernetes API server</tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="406"><tspan dy="0" x="406"></tspan></text><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="406"><tspan dy="16" x="406">HTTP front end</tspan></text></g></g><g><line name="User" stroke="#999" stroke-width="0.5px" class="actor-line 200" y2="2541.5" x2="75" y1="119" x1="75" id="actor780"></line><g id="root-780"><rect class="actor actor-top" ry="3" rx="3" name="User" height="65" width="150" stroke="#666" fill="#eaeaea" y="54" x="0"></rect><text class="actor actor-box" alignment-baseline="central" dominant-baseline="central" style="text-anchor: middle; font-size: 16px; font-weight: 400;" y="86.5" x="75"><tspan dy="0" x="75">Client / user</tspan></text></g></g><style>#graph-div{font-family:"Open Sans",verdana,arial,sans-serif;font-size:1em;fill:#000000;}#graph-div .error-icon{fill:#552222;}#graph-div .error-text{fill:#552222;stroke:#552222;}#graph-div .edge-thickness-normal{stroke-width:1px;}#graph-div .edge-thickness-thick{stroke-width:3.5px;}#graph-div .edge-pattern-solid{stroke-dasharray:0;}#graph-div .edge-thickness-invisible{stroke-width:0;fill:none;}#graph-div .edge-pattern-dashed{stroke-dasharray:3;}#graph-div .edge-pattern-dotted{stroke-dasharray:2;}#graph-div .marker{fill:#666;stroke:#666;}#graph-div .marker.cross{stroke:#666;}#graph-div svg{font-family:"Open Sans",verdana,arial,sans-serif;font-size:1em;}#graph-div p{margin:0;}#graph-div .actor{stroke:hsl(0, 0%, 83%);fill:#326ce5;}#graph-div text.actor&gt;tspan{fill:white;stroke:none;}#graph-div .actor-line{stroke:hsl(0, 0%, 83%);}#graph-div .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#graph-div .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#graph-div #arrowhead path{fill:#333;stroke:#333;}#graph-div .sequenceNumber{fill:white;}#graph-div #sequencenumber{fill:#333;}#graph-div #crosshead path{fill:#333;stroke:#333;}#graph-div .messageText{fill:#333;stroke:none;}#graph-div .labelBox{stroke:hsl(0, 0%, 83%);fill:#eee;}#graph-div .labelText,#graph-div .labelText&gt;tspan{fill:#333;stroke:none;}#graph-div .loopText,#graph-div .loopText&gt;tspan{fill:#326ce5;stroke:none;}#graph-div .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(0, 0%, 83%);fill:hsl(0, 0%, 83%);}#graph-div .note{stroke:#999;fill:grey;}#graph-div .noteText,#graph-div .noteText&gt;tspan{fill:#fff;stroke:none;}#graph-div .activation0{fill:#f4f4f4;stroke:#666;}#graph-div .activation1{fill:#f4f4f4;stroke:#666;}#graph-div .activation2{fill:#f4f4f4;stroke:#666;}#graph-div .actorPopupMenu{position:absolute;}#graph-div .actorPopupMenuPanel{position:absolute;fill:#326ce5;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#graph-div .actor-man line{stroke:hsl(0, 0%, 83%);fill:#326ce5;}#graph-div .actor-man circle,#graph-div line{stroke:hsl(0, 0%, 83%);fill:#326ce5;stroke-width:2px;}#graph-div :root{--mermaid-font-family:"Open Sans",verdana,arial,sans-serif;}</style><g></g><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"></path></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"></path></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"></path></symbol></defs><defs><marker orient="auto-start-reverse" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="7.9" id="arrowhead"><path d="M -1 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker refY="4.5" refX="4" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path d="M 1,2 L 6,7 M 6,2 L 1,7" stroke-width="1pt" style="stroke-dasharray: 0px, 0px;" stroke="#000000" fill="none"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="15.5" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"></circle></marker></defs><g><rect class="note" height="39" width="1544" stroke="#666" fill="#EDF2AE" y="129" x="381"></rect><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="134" x="1153"><tspan x="1153">within Kubernetes control plane (API server)</tspan></text></g><g><rect class="note" height="116" width="234" stroke="#666" fill="#EDF2AE" y="254" x="2071"></rect><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="259" x="2188"><tspan x="2188">You can have many different</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="278" x="2188"><tspan x="2188">external webhooks.</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="297" x="2188"><tspan x="2188">â€‹</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="317" x="2188"><tspan x="2188">For simplicity, this diagram</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="336" x="2188"><tspan x="2188">just shows one.</tspan></text></g><g><rect class="note" height="58" width="274" stroke="#666" fill="#EDF2AE" y="650" x="1126.5"></rect><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="655" x="1264"><tspan x="1264">API server ensures that the object</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="674" x="1264"><tspan x="1264">passes API-level schema checks</tspan></text></g><g><rect class="note" height="78" width="374" stroke="#666" fill="#EDF2AE" y="765" x="1076.5"></rect><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="770" x="1264"><tspan x="1264">All built-in mutating</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="789" x="1264"><tspan x="1264">admission controls, including</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="808" x="1264"><tspan x="1264">mutating admission webhooks</tspan></text></g><g><rect class="activation0" height="54" width="10" stroke="#666" fill="#EDF2AE" y="973" x="2183"></rect></g><g><rect class="note" height="58" width="374" stroke="#666" fill="#EDF2AE" y="1138" x="1076.5"></rect><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1143" x="1264"><tspan x="1264">Any modification of contents restarts</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1162" x="1264"><tspan x="1264">the mutating admission phase</tspan></text></g><g><line class="loopLine" y2="1037" x2="1460.5" y1="1037" x1="1066.5"></line><line class="loopLine" y2="1206" x2="1460.5" y1="1037" x1="1460.5"></line><line class="loopLine" y2="1206" x2="1460.5" y1="1206" x1="1066.5"></line><line class="loopLine" y2="1206" x2="1066.5" y1="1037" x1="1066.5"></line><polygon class="labelBox" points="1066.5,1037 1116.5,1037 1116.5,1050 1108.1,1057 1066.5,1057"></polygon><text class="labelText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1050" x="1092">opt</text><text class="loopText" style="font-size: 16px; font-weight: 400;" text-anchor="middle" y="1055" x="1288.5"><tspan x="1288.5">[Optional object mutation]</tspan></text></g><g><line class="loopLine" y2="718" x2="2203" y1="718" x1="1056.5"></line><line class="loopLine" y2="1216" x2="2203" y1="718" x1="2203"></line><line class="loopLine" y2="1216" x2="2203" y1="1216" x1="1056.5"></line><line class="loopLine" y2="1216" x2="1056.5" y1="718" x1="1056.5"></line><polygon class="labelBox" points="1056.5,718 1106.5,718 1106.5,731 1098.1,738 1056.5,738"></polygon><text class="labelText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="731" x="1082">loop</text><text class="loopText" style="font-size: 16px; font-weight: 400;" text-anchor="middle" y="736" x="1654.75"><tspan x="1654.75">[Mutating admission control]</tspan></text></g><g><rect class="note" height="97" width="234" stroke="#666" fill="#EDF2AE" y="1327" x="1557.5"></rect><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1332" x="1675"><tspan x="1675">All built-in validating</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1351" x="1675"><tspan x="1675">admission checks, including</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1370" x="1675"><tspan x="1675">ValidatingAdmissionPolicies,</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1390" x="1675"><tspan x="1675">but not webhooks</tspan></text></g><g><line class="loopLine" y2="1434" x2="1685.5" y1="1434" x1="395"></line><line class="loopLine" y2="1589" x2="1685.5" y1="1434" x1="1685.5"></line><line class="loopLine" y2="1589" x2="1685.5" y1="1589" x1="395"></line><line class="loopLine" y2="1589" x2="395" y1="1434" x1="395"></line><polygon class="labelBox" points="395,1434 445,1434 445,1447 436.6,1454 395,1454"></polygon><text class="labelText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1447" x="420">opt</text><text class="loopText" style="font-size: 16px; font-weight: 400;" text-anchor="middle" y="1452" x="1065.25"><tspan x="1065.25">[ValidatingAdmissionPolicy with parameters]</tspan></text></g><g><line class="loopLine" y2="1280" x2="1801.5" y1="1280" x1="385"></line><line class="loopLine" y2="1713" x2="1801.5" y1="1280" x1="1801.5"></line><line class="loopLine" y2="1713" x2="1801.5" y1="1713" x1="385"></line><line class="loopLine" y2="1713" x2="385" y1="1280" x1="385"></line><polygon class="labelBox" points="385,1280 435,1280 435,1293 426.6,1300 385,1300"></polygon><text class="labelText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1293" x="410">par</text><text class="loopText" style="font-size: 16px; font-weight: 400;" text-anchor="middle" y="1298" x="1118.25"><tspan x="1118.25">[Internal validation control]</tspan></text></g><g><rect class="activation0" height="54" width="10" stroke="#666" fill="#EDF2AE" y="1890" x="2183"></rect></g><g><line class="loopLine" y2="1777" x2="2203" y1="1777" x1="1889"></line><line class="loopLine" y2="1954" x2="2203" y1="1777" x1="2203"></line><line class="loopLine" y2="1954" x2="2203" y1="1954" x1="1889"></line><line class="loopLine" y2="1954" x2="1889" y1="1777" x1="1889"></line><polygon class="labelBox" points="1889,1777 1939,1777 1939,1790 1930.6,1797 1889,1797"></polygon><text class="labelText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1790" x="1914">par</text><text class="loopText" style="font-size: 16px; font-weight: 400;" text-anchor="middle" y="1795" x="2071"><tspan x="2071">[For all validating admission</tspan></text><text class="loopText" style="font-size: 16px; font-weight: 400;" text-anchor="middle" y="1814" x="2071"><tspan x="2071">webhooks, logically parallel]</tspan></text></g><g><rect class="note" height="39" width="275.5" stroke="#666" fill="#EDF2AE" y="2018" x="1649.5"></rect><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2023" x="1787"><tspan x="1787">Data has passed validation</tspan></text></g><g><rect class="note" height="78" width="245" stroke="#666" fill="#EDF2AE" y="2141" x="283.5"></rect><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2146" x="406"><tspan x="406">Until this point, the API server</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2165" x="406"><tspan x="406">has not checked whether the</tspan></text><text dy="1em" class="noteText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2184" x="406"><tspan x="406">target resource exists or not</tspan></text></g><g><rect class="activation0" height="130" width="10" stroke="#666" fill="#EDF2AE" y="2305.5" x="2479.5"></rect></g><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="183" x="239">Request</text><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="202" x="239">(example: create a new Pod object)</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="244" x2="402" y1="244" x1="76"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="385" x="520">Authenticate user</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="424" x2="632.5" y1="424" x1="407"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="439" x="523">Fail authentication</text><line marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" style="stroke-dasharray: 3px, 3px; fill: none;" y2="478" x2="410" y1="478" x1="635.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="493" x="735">Check access</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="532" x2="832.5" y1="532" x1="637.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="547" x="623">Authorization failed</text><line marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" style="stroke-dasharray: 3px, 3px; fill: none;" y2="586" x2="410" y1="586" x1="835.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="601" x="968">Authorization succeeds</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="640" x2="1097.5" y1="640" x1="837.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="858" x="1262">Pass object through mutating</text><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="877" x="1262">admission controller</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="919" x2="1421.5" y1="919" x1="1102.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="934" x="1805">Invoke mutating webhook</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="973" x2="2184" y1="973" x1="1426.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="988" x="1806">Response</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="1027" x2="1429.5" y1="1027" x1="2183"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1089" x="1265">Modify contents</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="1128" x2="1105.5" y1="1128" x1="1424.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1231" x="917">Reject request</text><line marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" style="stroke-dasharray: 3px, 3px; fill: none;" y2="1270" x2="410" y1="1270" x1="1424.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1486" x="1042">Fetch parameter object</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="1525" x2="410" y1="1525" x1="1673.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1540" x="1039">Parameters</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="1579" x2="1670.5" y1="1579" x1="407"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1604" x="1676">Check resource data is valid</text><path marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" d="M 1675.5,1643 C 1735.5,1633 1735.5,1673 1675.5,1663"></path><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1728" x="1042">Reject resource data</text><line marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" style="stroke-dasharray: 3px, 3px; fill: none;" y2="1767" x2="410" y1="1767" x1="1673.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1851" x="2043">Invoke validating webhook</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="1890" x2="2184" y1="1890" x1="1901"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1905" x="2044">Response</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="1944" x2="1904" y1="1944" x1="2183"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="1969" x="1155">Reject resource data</text><line marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" style="stroke-dasharray: 3px, 3px; fill: none;" y2="2008" x2="410" y1="2008" x1="1899"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2072" x="1155">confirm validation</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="2111" x2="410" y1="2111" x1="1899"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2234" x="1405">persist changes</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="2273" x2="2402.5" y1="2273" x1="407"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2321" x="1445">rejected </text><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2340" x="1445">(example: object already exists)</text><line marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" style="stroke-dasharray: 3px, 3px; fill: none;" y2="2381.5" x2="410" y1="2381.5" x1="2479.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2397" x="1445">changes persisted and current (newly updated) resource returned</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="2435.5" x2="410" y1="2435.5" x1="2479.5"></line><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2461" x="242">Response </text><text dy="1em" class="messageText" style="font-size: 16px; font-weight: 400;" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="2480" x="242"> (success or error)</text><line marker-end="url(#arrowhead)" style="fill: none;" stroke="none" stroke-width="2" class="messageLine0" y2="2521.5" x2="79" y1="2521.5" x1="405"></line></svg>