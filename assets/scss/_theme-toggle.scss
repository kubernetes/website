// =============================================================================
// THEME TOGGLE BUTTON STYLES
// =============================================================================

.theme-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  margin: 0 0.5rem;
  border: none;
  background: transparent;
  color: var(--k8s-text-nav, #ffffff);
  cursor: pointer;
  border-radius: 0.375rem;
  transition: background-color 0.2s ease, color 0.2s ease, transform 0.2s ease;

  &:hover {
    background-color: rgba(255, 255, 255, 0.1);
    transform: scale(1.05);
  }

  &:focus {
    outline: 2px solid var(--k8s-primary, #326ce5);
    outline-offset: 2px;
  }

  &:focus:not(:focus-visible) {
    outline: none;
  }

  &:focus-visible {
    outline: 2px solid var(--k8s-primary, #326ce5);
    outline-offset: 2px;
  }

  &:active {
    transform: scale(0.95);
  }

  svg {
    width: 1.25rem;
    height: 1.25rem;
    transition: transform 0.3s ease;
  }

  // Animation on theme switch
  .theme-icon-light,
  .theme-icon-dark {
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

// =============================================================================
// NAVBAR SCROLLED STATE
// When navbar background changes to white on scroll, toggle needs dark icon
// =============================================================================

.navbar-bg-onscroll .theme-toggle {
  color: #303030; // Dark grey to match other nav items

  &:hover {
    background-color: rgba(0, 0, 0, 0.1);
    color: #4c4c4c;
  }
}

// Dark mode with scrolled navbar - still use dark icon since bg is white
:root[data-theme="dark"] .navbar-bg-onscroll .theme-toggle {
  color: #303030;

  &:hover {
    background-color: rgba(0, 0, 0, 0.1);
    color: #4c4c4c;
  }
}

// =============================================================================
// SMOOTH THEME TRANSITIONS
// =============================================================================

// Enable transitions only after initial theme load (prevents flash)
html[data-theme-loaded="true"] {
  // Core element transitions
  body,
  .td-main,
  .td-outer,
  .td-sidebar,
  .td-content,
  .td-toc,
  nav,
  footer,
  header,
  main,
  aside,
  section,
  article,
  .navbar,
  .td-navbar,
  .card,
  .alert,
  .highlight,
  pre,
  code,
  table,
  th,
  td,
  .mermaid,
  .tab-pane,
  .nav-tabs,
  .nav-link,
  input,
  button,
  select,
  textarea {
    transition: background-color 0.3s ease,
                color 0.3s ease,
                border-color 0.3s ease,
                box-shadow 0.3s ease;
  }

  // Links need separate transition for color
  a {
    transition: color 0.3s ease;
  }
}

// Disable transitions during initial page load
html:not([data-theme-loaded]) {
  *,
  *::before,
  *::after {
    transition: none !important;
  }
}

// =============================================================================
// DARK MODE CORE STYLES
// =============================================================================

// Body and main content
body {
  background-color: var(--k8s-bg-body);
  color: var(--k8s-text-primary);
}

// Main content area
.td-main,
.td-outer {
  background-color: var(--k8s-bg-body);
  color: var(--k8s-text-primary);
}

// Documentation content
.td-content {
  color: var(--k8s-text-primary);

  h1, h2, h3, h4, h5, h6 {
    color: var(--k8s-text-primary);
  }

  p, li, dd, dt {
    color: var(--k8s-text-primary);
  }

  a {
    color: var(--k8s-link-color);

    &:hover {
      color: var(--k8s-link-hover);
    }
  }
}

// =============================================================================
// SIDEBAR STYLES
// =============================================================================

.td-sidebar {
  background-color: var(--k8s-bg-sidebar);

  .td-sidebar-nav {
    background-color: transparent;
  }

  .td-sidebar-link {
    color: var(--k8s-text-primary);

    &:hover {
      color: var(--k8s-link-hover);
      background-color: var(--k8s-bg-tertiary);
    }

    &.active {
      color: var(--k8s-primary);
      font-weight: bold;
    }
  }

  // Section headers
  .td-sidebar-nav__section-title {
    color: var(--k8s-text-secondary);
  }
}

// Table of Contents
.td-toc {
  background-color: transparent;

  a {
    color: var(--k8s-text-secondary);

    &:hover {
      color: var(--k8s-link-hover);
    }

    &.active {
      color: var(--k8s-primary);
    }
  }
}

// =============================================================================
// CODE BLOCKS & SYNTAX HIGHLIGHTING
// Accessibility: All colors tested for WCAG AA contrast (4.5:1 minimum)
// =============================================================================

// Base code block styles
pre,
.highlight pre,
.td-content pre,
.td-content .highlight pre {
  background-color: var(--k8s-code-bg) !important;
  border: 1px solid var(--k8s-code-border);
  color: var(--k8s-code-text) !important;
  border-radius: 0.375rem;
}

// Inline code
code,
.td-content code {
  background-color: var(--k8s-code-inline-bg);
  color: var(--k8s-code-inline-text);
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  font-size: 0.9em;
}

// Code within pre blocks should not have separate background
pre code,
.highlight code,
.td-content pre code {
  background-color: transparent !important;
  color: inherit;
  padding: 0;
}

// Highlight container
.highlight,
.td-content .highlight {
  background-color: var(--k8s-code-bg);
  border-radius: 0.375rem;
  margin: 1rem 0;
}

// Code sample containers (includecode shortcode)
.code-sample,
.includecode {
  background-color: var(--k8s-code-bg);
  border: 1px solid var(--k8s-code-border);
  border-radius: 0.375rem;

  .highlight {
    margin: 0;
    border: none;
  }

  // Copy button styling
  .copy-code-icon {
    color: var(--k8s-text-muted);
    background-color: var(--k8s-code-bg);
    border-color: var(--k8s-code-border);

    &:hover {
      color: var(--k8s-primary);
    }
  }
}

// =============================================================================
// SYNTAX HIGHLIGHTING - Light Mode (Default)
// WCAG AA compliant colors on #f5f5f5 background
// =============================================================================
.highlight {
  // Comments - contrast 4.6:1 on #f5f5f5
  .c, .c1, .cm, .cs { color: #5c6370; }

  // Strings - contrast 5.2:1 on #f5f5f5
  .s, .s1, .s2, .sa, .sb, .sc, .dl, .sd, .se, .sh, .si, .sx, .sr, .ss { color: #986801; }

  // Keywords - contrast 5.5:1 on #f5f5f5
  .k, .kc, .kd, .kn, .kp, .kr, .kt { color: #a626a4; }

  // Names/Functions - contrast 4.8:1 on #f5f5f5
  .n, .nf, .nc, .nd, .ne, .ni, .nl, .nn, .nt { color: #4078f2; }

  // Operators/Punctuation - contrast 7:1 on #f5f5f5
  .o, .p, .ow { color: #383a42; }

  // Numbers - contrast 4.5:1 on #f5f5f5
  .m, .mi, .mf, .mh, .mo, .il { color: #986801; }

  // Attribute names - contrast 5:1 on #f5f5f5
  .na { color: #986801; }

  // Built-ins - contrast 4.5:1 on #f5f5f5
  .nb, .bp { color: #c18401; }

  // Variables - contrast 4.5:1 on #f5f5f5
  .nv, .vc, .vg, .vi, .vm { color: #e45649; }

  // Line numbers
  .ln, .lnt { color: #9e9e9e; }

  // Generic styles
  .ge { font-style: italic; }
  .gs { font-weight: bold; }
  .gd { color: #e45649; background-color: #ffeef0; } // Deleted
  .gi { color: #50a14f; background-color: #e6ffed; } // Inserted

  // YAML specific
  .l-Scalar-Plain { color: #383a42; }
}

// =============================================================================
// SYNTAX HIGHLIGHTING - Dark Mode
// WCAG AA compliant colors on #2d2d4a background (contrast 4.5:1+)
// =============================================================================
:root[data-theme="dark"] {
  .highlight,
  .td-content .highlight {
    background-color: var(--k8s-code-bg);

    // Comments - contrast 4.9:1 on #2d2d4a
    .c, .c1, .cm, .cs { color: #7f848e; }

    // Strings - contrast 5.8:1 on #2d2d4a (orange/peach)
    .s, .s1, .s2, .sa, .sb, .sc, .dl, .sd, .se, .sh, .si, .sx, .sr, .ss { color: #e5c07b; }

    // Keywords - contrast 5.2:1 on #2d2d4a (purple/pink)
    .k, .kc, .kd, .kn, .kp, .kr, .kt { color: #c678dd; }

    // Names/Functions - contrast 5.5:1 on #2d2d4a (blue)
    .n, .nf, .nc, .nd, .ne, .ni, .nl, .nn, .nt { color: #61afef; }

    // Operators/Punctuation - contrast 9:1 on #2d2d4a
    .o, .p, .ow { color: #abb2bf; }

    // Numbers - contrast 6.2:1 on #2d2d4a (orange)
    .m, .mi, .mf, .mh, .mo, .il { color: #d19a66; }

    // Attribute names - contrast 5.8:1 on #2d2d4a
    .na { color: #e5c07b; }

    // Built-ins - contrast 5.8:1 on #2d2d4a (cyan)
    .nb, .bp { color: #56b6c2; }

    // Variables - contrast 5.3:1 on #2d2d4a (red)
    .nv, .vc, .vg, .vi, .vm { color: #e06c75; }

    // Line numbers
    .ln, .lnt { color: #5c6370; }

    // Generic styles
    .gd { color: #e06c75; background-color: rgba(224, 108, 117, 0.15); } // Deleted
    .gi { color: #98c379; background-color: rgba(152, 195, 121, 0.15); } // Inserted

    // YAML specific
    .l-Scalar-Plain { color: #abb2bf; }
  }

  // Ensure pre and code inherit dark colors
  pre,
  .td-content pre,
  code,
  .td-content code:not(pre code) {
    background-color: var(--k8s-code-bg) !important;
    color: var(--k8s-code-text) !important;
  }
}

// =============================================================================
// AUTO DARK MODE (prefers-color-scheme)
// =============================================================================
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    .highlight,
    .td-content .highlight {
      background-color: var(--k8s-code-bg);

      .c, .c1, .cm, .cs { color: #7f848e; }
      .s, .s1, .s2, .sa, .sb, .sc, .dl, .sd, .se, .sh, .si, .sx, .sr, .ss { color: #e5c07b; }
      .k, .kc, .kd, .kn, .kp, .kr, .kt { color: #c678dd; }
      .n, .nf, .nc, .nd, .ne, .ni, .nl, .nn, .nt { color: #61afef; }
      .o, .p, .ow { color: #abb2bf; }
      .m, .mi, .mf, .mh, .mo, .il { color: #d19a66; }
      .na { color: #e5c07b; }
      .nb, .bp { color: #56b6c2; }
      .nv, .vc, .vg, .vi, .vm { color: #e06c75; }
      .ln, .lnt { color: #5c6370; }
      .gd { color: #e06c75; background-color: rgba(224, 108, 117, 0.15); }
      .gi { color: #98c379; background-color: rgba(152, 195, 121, 0.15); }
      .l-Scalar-Plain { color: #abb2bf; }
    }

    pre,
    .td-content pre,
    code,
    .td-content code:not(pre code) {
      background-color: var(--k8s-code-bg) !important;
      color: var(--k8s-code-text) !important;
    }
  }
}

// =============================================================================
// TABLES
// =============================================================================

table {
  background-color: var(--k8s-table-bg);
  border-color: var(--k8s-table-border);

  th {
    background-color: var(--k8s-bg-tertiary);
    color: var(--k8s-text-primary);
    border-color: var(--k8s-table-border);
  }

  td {
    color: var(--k8s-text-primary);
    border-color: var(--k8s-table-border);
  }

  // Striped rows
  tbody tr:nth-of-type(odd) {
    background-color: var(--k8s-table-stripe-bg);
  }

  // Hover effect
  tbody tr:hover {
    background-color: var(--k8s-table-hover-bg);
  }
}

// =============================================================================
// CALLOUTS / ALERTS
// =============================================================================

.alert {
  background-color: var(--k8s-bg-secondary);
  color: var(--k8s-text-primary);

  &.alert-info {
    background-color: var(--k8s-callout-note-bg);
    border-color: var(--k8s-callout-note-border);
    color: var(--k8s-callout-note-text);

    h4, .alert-heading {
      color: var(--k8s-callout-note-text);
    }
  }

  &.alert-warning {
    background-color: var(--k8s-callout-warning-bg);
    border-color: var(--k8s-callout-warning-border);
    color: var(--k8s-callout-warning-text);

    h4, .alert-heading {
      color: var(--k8s-callout-warning-text);
    }
  }

  &.alert-caution {
    background-color: var(--k8s-callout-caution-bg);
    border-color: var(--k8s-callout-caution-border);
    color: var(--k8s-callout-caution-text);

    h4, .alert-heading {
      color: var(--k8s-callout-caution-text);
    }
  }

  &.alert-danger {
    background-color: var(--k8s-callout-danger-bg);
    border-color: var(--k8s-callout-danger-border);
    color: var(--k8s-callout-danger-text);

    h4, .alert-heading {
      color: var(--k8s-callout-danger-text);
    }
  }

  a {
    color: var(--k8s-link-color);
  }
}

// =============================================================================
// FEATURE STATE NOTICE
// =============================================================================

div.feature-state-notice {
  background-color: var(--k8s-feature-bg);
  color: var(--k8s-feature-text);

  > .feature-state-name {
    color: var(--k8s-feature-text);
    background-color: var(--k8s-feature-bg);
  }

  code {
    color: var(--k8s-feature-text);
    background-color: var(--k8s-feature-bg);
  }
}

// =============================================================================
// FORM ELEMENTS
// =============================================================================

input,
select,
textarea {
  background-color: var(--k8s-input-bg);
  border-color: var(--k8s-input-border);
  color: var(--k8s-input-text);

  &::placeholder {
    color: var(--k8s-input-placeholder);
  }

  &:focus {
    border-color: var(--k8s-input-focus-border);
    box-shadow: 0 0 0 0.2rem var(--k8s-input-focus-shadow);
  }
}

// Search input specific
.td-search__input,
.form-control {
  background-color: var(--k8s-input-bg);
  border-color: var(--k8s-input-border);
  color: var(--k8s-input-text);

  &::placeholder {
    color: var(--k8s-input-placeholder);
  }
}

// =============================================================================
// BUTTONS
// =============================================================================

.btn-primary,
.btn {
  background-color: var(--k8s-btn-primary-bg);
  color: var(--k8s-btn-primary-text);
  border-color: var(--k8s-btn-primary-bg);

  &:hover {
    background-color: var(--k8s-btn-primary-hover-bg);
    border-color: var(--k8s-btn-primary-hover-bg);
  }
}

.btn-secondary {
  background-color: var(--k8s-btn-secondary-bg);
  color: var(--k8s-btn-secondary-text);
}

// =============================================================================
// CARDS
// =============================================================================

.card {
  background-color: var(--k8s-bg-card);
  border-color: var(--k8s-border-color);
  color: var(--k8s-text-primary);

  .card-header {
    background-color: var(--k8s-bg-tertiary);
    border-color: var(--k8s-border-color);
  }

  .card-footer {
    background-color: var(--k8s-bg-tertiary);
    border-color: var(--k8s-border-color);
  }
}

// =============================================================================
// TABS
// =============================================================================

.nav-tabs {
  border-color: var(--k8s-border-color);

  .nav-link {
    color: var(--k8s-text-secondary);

    &:hover {
      border-color: var(--k8s-border-light);
      color: var(--k8s-link-hover);
    }

    &.active {
      background-color: var(--k8s-bg-body);
      border-color: var(--k8s-border-color) var(--k8s-border-color) var(--k8s-bg-body);
      color: var(--k8s-text-primary);
    }
  }
}

.tab-content,
.tab-pane {
  background-color: var(--k8s-bg-body);
  border-color: var(--k8s-border-color);
}

// =============================================================================
// MERMAID DIAGRAMS
// =============================================================================

.mermaid {
  background-color: var(--k8s-mermaid-bg);
  border-color: var(--k8s-mermaid-border);
  color: var(--k8s-mermaid-text);
}

// =============================================================================
// FOOTER
// =============================================================================

footer {
  background-color: var(--k8s-bg-footer);
  color: var(--k8s-text-inverse);

  a {
    color: var(--k8s-text-inverse);

    &:hover {
      color: var(--k8s-text-inverse);
      text-decoration: underline;
    }
  }
}

// =============================================================================
// GLOSSARY
// =============================================================================

.glossary-tooltip {
  border-bottom-color: var(--k8s-glossary-tooltip-border);
  color: var(--k8s-text-primary);
}

// =============================================================================
// METRICS REFERENCE
// =============================================================================

div.metrics .metric {
  li.metric_labels_varying span {
    background-color: var(--k8s-metric-labels-bg);
    border-color: var(--k8s-metric-labels-border);
  }
}

div.metric:nth-of-type(odd) {
  background-color: var(--k8s-bg-secondary);
}

// =============================================================================
// FIGURE FULLSCREEN OVERLAY
// =============================================================================

.figure-fullscreen-overlay {
  background-color: var(--k8s-bg-overlay);
}

.figure-close-button {
  color: var(--k8s-primary);
}

// =============================================================================
// SCROLLBAR STYLING (for Webkit browsers)
// =============================================================================

:root[data-theme="dark"] {
  ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  ::-webkit-scrollbar-track {
    background: var(--k8s-bg-secondary);
  }

  ::-webkit-scrollbar-thumb {
    background-color: var(--k8s-border-dark);
    border-radius: 6px;
    border: 3px solid var(--k8s-bg-secondary);
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: var(--k8s-text-muted);
  }

  // Firefox scrollbar
  scrollbar-color: var(--k8s-border-dark) var(--k8s-bg-secondary);
  scrollbar-width: thin;
}

// =============================================================================
// DOCUMENTATION PORTAL CARDS
// =============================================================================

body.docs-portal {
  .launch-cards .launch-card {
    background-color: var(--k8s-bg-secondary);
    color: var(--k8s-text-primary);

    &:hover {
      background-color: var(--k8s-bg-tertiary);
    }

    .card-content button {
      background-color: var(--k8s-btn-primary-bg);
      color: var(--k8s-btn-primary-text);
    }
  }
}

// =============================================================================
// BREADCRUMBS
// =============================================================================

.breadcrumb {
  background-color: var(--k8s-bg-secondary);

  .breadcrumb-item {
    color: var(--k8s-text-secondary);

    a {
      color: var(--k8s-link-color);
    }

    &.active {
      color: var(--k8s-text-primary);
    }

    + .breadcrumb-item::before {
      color: var(--k8s-text-muted);
    }
  }
}

// =============================================================================
// DROPDOWN MENUS
// =============================================================================

.dropdown-menu {
  background-color: var(--k8s-bg-card);
  border-color: var(--k8s-border-color);

  .dropdown-item {
    color: var(--k8s-text-primary);

    &:hover,
    &:focus {
      background-color: var(--k8s-bg-tertiary);
      color: var(--k8s-text-primary);
    }
  }

  .dropdown-divider {
    border-color: var(--k8s-border-color);
  }
}

// =============================================================================
// TOAST NOTIFICATIONS
// =============================================================================

#toast-container > * {
  background-color: var(--k8s-btn-primary-bg);
  color: var(--k8s-btn-primary-text);
}

.toast-success {
  background-color: var(--k8s-btn-primary-bg) !important;
  color: var(--k8s-btn-primary-text) !important;
}

// =============================================================================
// SELECTION STYLING
// =============================================================================

::selection {
  background-color: var(--k8s-primary);
  color: var(--k8s-text-inverse);
}

::-moz-selection {
  background-color: var(--k8s-primary);
  color: var(--k8s-text-inverse);
}

// =============================================================================
// DOCUMENTATION PAGE CONTENT (.td-content)
// Comprehensive dark mode coverage for all documentation elements
// =============================================================================

.td-content {
  color: var(--k8s-text-primary);

  // Headings
  h1, h2, h3, h4, h5, h6 {
    color: var(--k8s-text-primary);
  }

  // Paragraphs and text
  p, li, dd, dt {
    color: var(--k8s-text-primary);
  }

  // Definition lists
  dt {
    font-weight: 600;
  }

  // Blockquotes
  blockquote {
    border-left-color: var(--k8s-border-color);
    color: var(--k8s-text-secondary);
    background-color: var(--k8s-bg-secondary);
    padding: 1rem;
    margin: 1rem 0;
  }

  // Horizontal rules
  hr {
    border-color: var(--k8s-border-color);
  }

  // Lists
  ul, ol {
    color: var(--k8s-text-primary);
  }
}

// =============================================================================
// DOCUMENTATION SIDEBAR
// =============================================================================

.td-sidebar,
.td-sidebar-nav {
  background-color: var(--k8s-bg-sidebar);

  .td-sidebar-link {
    color: var(--k8s-text-primary);

    &:hover {
      color: var(--k8s-primary);
    }

    &.active {
      color: var(--k8s-primary);
      font-weight: 600;
    }
  }

  // Section headings in sidebar
  .td-sidebar-nav__section-title {
    color: var(--k8s-text-secondary);
  }
}

// Sidebar tree navigation
.td-sidebar-nav-active-item {
  background-color: var(--k8s-bg-tertiary);
}

ul.td-sidebar-nav__section {
  border-left-color: var(--k8s-border-light);
}

// =============================================================================
// TABLE OF CONTENTS (TOC)
// =============================================================================

.td-toc {
  background-color: transparent;

  #TableOfContents {
    a {
      color: var(--k8s-text-secondary);

      &:hover {
        color: var(--k8s-primary);
      }
    }

    // Active TOC item
    .active > a {
      color: var(--k8s-primary);
      font-weight: 600;
    }
  }

  // TOC border
  border-left-color: var(--k8s-border-light);
}

// =============================================================================
// PAGE FEEDBACK SECTION
// =============================================================================

.feedback--container,
.td-page-meta {
  background-color: var(--k8s-bg-secondary);
  border-color: var(--k8s-border-color);
  color: var(--k8s-text-primary);

  a {
    color: var(--k8s-link-color);
  }
}

// =============================================================================
// DETAILS/SUMMARY ELEMENTS
// =============================================================================

details {
  background-color: var(--k8s-bg-secondary);
  border: 1px solid var(--k8s-border-color);
  border-radius: 0.375rem;
  padding: 0.5rem 1rem;
  margin: 1rem 0;

  summary {
    color: var(--k8s-primary);
    cursor: pointer;
    font-weight: 500;

    &:hover {
      color: var(--k8s-primary-hover);
    }
  }

  &[open] {
    padding-bottom: 1rem;

    > summary {
      margin-bottom: 0.5rem;
      border-bottom: 1px solid var(--k8s-border-light);
      padding-bottom: 0.5rem;
    }
  }
}

// =============================================================================
// CONTENT BOXES (used in tutorials)
// =============================================================================

.content__box {
  background-color: var(--k8s-bg-secondary);
  color: var(--k8s-text-primary);
}

.content__box_lined {
  border-color: var(--k8s-primary);
}

.content__box_fill {
  background-color: var(--k8s-primary);
  color: var(--k8s-text-inverse);
}

// =============================================================================
// THIRD PARTY CONTENT DISCLAIMER
// =============================================================================

#third-party-content-disclaimer {
  background-color: var(--k8s-bg-secondary);
  color: var(--k8s-text-primary);
}

// =============================================================================
// VERSION BANNERS
// =============================================================================

.deprecation-warning {
  background-color: var(--k8s-callout-warning-bg);
  border-color: var(--k8s-callout-warning-border);
  color: var(--k8s-callout-warning-text);
}

// =============================================================================
// TABBED CONTENT
// =============================================================================

.nav-tabs {
  border-bottom-color: var(--k8s-border-color);

  .nav-link {
    color: var(--k8s-text-secondary);
    background-color: transparent;
    border-color: transparent;

    &:hover {
      color: var(--k8s-primary);
      border-color: var(--k8s-border-light) var(--k8s-border-light) var(--k8s-border-color);
    }

    &.active {
      color: var(--k8s-text-primary);
      background-color: var(--k8s-bg-body);
      border-color: var(--k8s-border-color) var(--k8s-border-color) var(--k8s-bg-body);
    }
  }
}

.tab-content {
  background-color: var(--k8s-bg-body);
  border-color: var(--k8s-border-color);
  color: var(--k8s-text-primary);

  .tab-pane {
    color: var(--k8s-text-primary);
  }
}

// =============================================================================
// MERMAID DIAGRAMS
// =============================================================================

.mermaid {
  background-color: var(--k8s-mermaid-bg);
  border-color: var(--k8s-mermaid-border);

  // Ensure text is readable
  text, tspan {
    fill: var(--k8s-mermaid-text) !important;
  }
}

// Dark mode specific Mermaid overrides
:root[data-theme="dark"] .mermaid {
  // Actor boxes in sequence diagrams
  .actor {
    fill: var(--k8s-primary) !important;
  }

  // Flowchart nodes
  .node rect,
  .node circle,
  .node ellipse,
  .node polygon {
    fill: var(--k8s-bg-tertiary) !important;
    stroke: var(--k8s-border-color) !important;
  }

  // Edge labels
  .edgeLabel {
    background-color: var(--k8s-bg-secondary) !important;
  }

  // Lines/Arrows
  .flowchart-link {
    stroke: var(--k8s-border-dark) !important;
  }
}
